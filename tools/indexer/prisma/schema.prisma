generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model kv_storage {
  id        Int      @id @default(autoincrement())
  namespace String   @db.VarChar
  key       String   @db.VarChar
  value     String   @db.VarChar
  createdAt DateTime @default(now()) @db.Timestamp(6)

  @@unique([namespace, key], map: "unique_namespace_key")
  @@index([id], map: "kv_storage_id_index")
}

model messages {
  id                      Int      @id @default(autoincrement())
  hash                    String   @unique @db.VarChar(66)
  origin                  Int
  destination             Int
  nonce                   Int
  nomad_sender            String   @db.VarChar(42)
  nomad_recipient         String   @db.VarChar(42)
  root                    String   @db.VarChar(66)
  state                   Int
  block                   Int
  dispatched_at           BigInt
  updated_at              BigInt
  relayed_at              BigInt
  received_at             BigInt
  processed_at            BigInt
  sender                  String?  @db.VarChar(42)
  bridge_msg_type         String?  @db.VarChar(20)
  recipient               String?  @db.VarChar(42)
  bridge_msg_amount       String?  @db.VarChar(256)
  bridge_msg_allow_fast   Boolean?
  bridge_msg_details_hash String?  @db.VarChar(66)
  bridge_msg_token_domain Int?
  bridge_msg_token_id     String?  @db.VarChar(42)
  raw                     String   @db.VarChar
  leaf_index              String   @db.VarChar(256)
  evm                     String?  @db.VarChar(66)
  createdAt               DateTime @default(now()) @db.Timestamp(6)

  @@index([id], map: "messages_id_index")
}
